(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[157],{1150:(e,s,t)=>{Promise.resolve().then(t.bind(t,6866))},6866:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>c});var a=t(5155),n=t(2115),l=t(9311),r=t.n(l),i=t(1540);let c=function(){let[e,s]=(0,n.useState)([]),[t,l]=(0,n.useState)([]),[c,o]=(0,n.useState)(0),[d,g]=(0,n.useState)(!1),[m,h]=(0,n.useState)(5),[p,u]=(0,n.useState)(!1),[v,j]=(0,n.useState)(!1),b=n.useRef(null),x=(0,n.useCallback)(e=>{e.target.files.length&&(s(Array.from(e.target.files)),e.target.value="")},[]),f=e=>new Promise((s,t)=>{let a=new Image,n=URL.createObjectURL(e);a.onload=()=>{let e=document.createElement("canvas");e.width=a.width,e.height=a.height,e.getContext("2d").drawImage(a,0,0),e.toBlob(e=>{URL.revokeObjectURL(n),s(e)},"image/jpeg",.85)},a.onerror=()=>{URL.revokeObjectURL(n),t(Error("Error loading image"))},a.src=n}),N=e=>e.replace(/\.[^/.]+$/,"")+"_converted.jpg",w=e=>{h(5),u(!0),j(!1);let s=5;b.current&&clearInterval(b.current),b.current=setInterval(()=>{if(h(--s),s<=0){if(clearInterval(b.current),!v){if(1===e.length)(0,i.saveAs)(new Blob([e[0].blob],{type:"image/jpeg"}),N(e[0].name));else{let s=new(r());e.forEach(e=>s.file(N(e.name),e.blob)),s.generateAsync({type:"blob"}).then(e=>{(0,i.saveAs)(e,"snapimg-converted-images.zip")})}}u(!1)}},1e3)};(0,n.useEffect)(()=>()=>{b.current&&clearInterval(b.current)},[]),(0,n.useEffect)(()=>{0!==e.length&&(async()=>{g(!0),o(0);let s=["image/png","image/jpeg","image/webp","image/gif"],t=e.filter(e=>s.includes(e.type)),a=t.length,n=0,r=[];for(let e of t){let s="image/jpeg"===e.type?e:await f(e);r.push({blob:s,name:e.name}),o(Math.floor(++n/a*100))}l(r),g(!1),r.length&&w(r)})()},[e]);let k=t=>{s(e.filter((e,s)=>s!==t)),l([]),o(0)};return(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"tool-container",children:[(0,a.jsxs)("div",{className:"tool-header",children:[(0,a.jsx)("h1",{children:"Convert to JPG"}),(0,a.jsx)("p",{className:"heading-desc",children:"Instant JPG conversion. No clicks needed."})]}),(0,a.jsxs)("div",{className:"main-container-div",id:"drop-zone",children:[(0,a.jsxs)("div",{className:"middle-container",children:[(0,a.jsxs)("div",{className:"upload-section",children:[(0,a.jsx)("input",{type:"file",id:"file-input",multiple:!0,hidden:!0,onChange:x}),(0,a.jsxs)("div",{className:"upload-content",onClick:()=>document.getElementById("file-input").click(),children:[(0,a.jsx)("img",{src:"/img/upload.svg",className:"upload-icon"}),(0,a.jsx)("h3",{children:"Drag & Drop Images"}),(0,a.jsx)("p",{children:"or click to browse files"}),(0,a.jsx)("p",{className:"support-text",children:"Supported: PNG, WEBP, GIF, JPG"})]})]}),e.length>0&&(0,a.jsxs)("div",{className:"image-preview-main",children:[(0,a.jsx)("h3",{children:"Convertingâ€¦"}),(0,a.jsx)("div",{className:"image-preview-grid",children:e.map((e,s)=>(0,a.jsxs)("div",{className:"preview-item",children:[(0,a.jsx)("img",{src:URL.createObjectURL(e),className:"preview-image"}),(0,a.jsx)("button",{className:"delete-btn",onClick:()=>k(s),children:(0,a.jsx)("img",{src:"/img/delete-btn.svg"})})]},s))})]})]}),(0,a.jsxs)("div",{className:"right-options-container",children:[(0,a.jsx)("h3",{className:"right-options-heading",children:"Progress"}),(0,a.jsxs)("div",{className:"progress-container",children:[(0,a.jsx)("div",{className:"progress-bar",children:(0,a.jsx)("div",{className:"progress",style:{width:"".concat(c,"%")}})}),(0,a.jsxs)("div",{className:"progress-text",children:[c,"% Completed"]})]}),t.length>0&&(0,a.jsx)("button",{className:"btn-4",onClick:()=>{if(j(!0),u(!1),b.current&&clearInterval(b.current),1===t.length)(0,i.saveAs)(new Blob([t[0].blob],{type:"image/jpeg"}),N(t[0].name));else{let e=new(r());t.forEach(s=>e.file(N(s.name),s.blob)),e.generateAsync({type:"blob"}).then(e=>{(0,i.saveAs)(e,"snapimg-converted-images.zip")})}},children:p&&!v?"Download (".concat(m,"s)"):"Download"})]})]})]})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[158,441,684,358],()=>s(1150)),_N_E=e.O()}]);