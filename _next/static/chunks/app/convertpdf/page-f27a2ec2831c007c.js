(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[236],{3418:(e,s,a)=>{Promise.resolve().then(a.bind(a,5259))},5259:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>c});var l=a(5155),t=a(2115),i=a(9311),r=a.n(i),n=a(1540),o=a(6597);let c=function(){let[e,s]=(0,t.useState)([]),[a,i]=(0,t.useState)([]),[c,d]=(0,t.useState)(0),[g,m]=(0,t.useState)(!1),[h,p]=(0,t.useState)(!1),[v,u]=(0,t.useState)(!0),f=(0,t.useCallback)(e=>{if(!e.target.files.length)return;let a=Array.from(e.target.files);s(e=>[...e,...a]),e.target.value=""},[]),j=e=>e<1024?"".concat(e," B"):e<1048576?"".concat((e/1024).toFixed(2)," KB"):"".concat((e/1048576).toFixed(2)," MB"),x=(0,t.useCallback)(e=>new Promise((s,a)=>{let l=new Image,t=URL.createObjectURL(e);l.src=t,l.onload=()=>{let e=new o.Ay("p","mm","a4"),a=e.internal.pageSize.getWidth();e.internal.pageSize.getHeight();let i=l.width,r=l.height;e.addImage(l,"JPEG",0,0,a,a/(i/r)),s(e.output("blob")),URL.revokeObjectURL(t)},l.onerror=e=>{console.error("Error loading image:",e),URL.revokeObjectURL(t),a(Error("Error loading image."))}}),[]),b=(0,t.useCallback)(e=>e.replace(/\.[^/.]+$/,"")+"_converted.pdf",[]),N=(0,t.useCallback)(async()=>{if(0===a.length){alert("No processed files to download.");return}if(v){let e=new o.Ay("p","mm","a4");for(let s=0;s<a.length;s++){let l=a[s],t=new Image,i=URL.createObjectURL(l.blob);t.src=i,await new Promise(l=>{t.onload=()=>{let r=e.internal.pageSize.getWidth();e.internal.pageSize.getHeight();let n=r/(t.width/t.height);e.addImage(t,"JPEG",0,0,r,n),s<a.length-1&&e.addPage(),URL.revokeObjectURL(i),l()}})}e.save("combined-images.pdf")}else if(1===a.length){let e=a[0];(0,n.saveAs)(e.blob,b(e.name))}else{let e=new(r());for(let s of a)e.file(b(s.name),s.blob);let s=await e.generateAsync({type:"blob"});(0,n.saveAs)(s,"snapimg-processed-pdfs.zip")}s([]),i([]),d(0),p(!1)},[a,v,b]),w=(0,t.useCallback)(async()=>{if(!e||0===e.length){alert("No files selected. Please upload images first.");return}m(!0),d(0);let s=["image/png","image/webp","image/gif","image/jpeg"],a=e.length,l=0,t=[];for(let i of e){if(!s.includes(i.type)){alert("Unsupported file type: ".concat(i.name,". Only PNG, WEBP, GIF, and JPEG allowed."));continue}try{let e=await x(i);t.push({blob:e,name:i.name})}catch(e){console.error("Error processing file ".concat(i.name,":"),e)}d(Math.floor(++l/a*100))}i(t),m(!1),p(t.length>0),t.length>0||alert("No valid images were processed.")},[e,x]),E=(0,t.useCallback)(e=>{s(s=>s.filter((s,a)=>a!==e))},[]);return(0,t.useEffect)(()=>()=>{e.forEach(e=>URL.revokeObjectURL(e))},[e]),(0,t.useEffect)(()=>{let e=document.getElementById("drop-zone"),a=s=>{s.preventDefault(),null==e||e.classList.add("drag-over")},l=()=>{null==e||e.classList.remove("drag-over")},t=a=>{var l;if(a.preventDefault(),null==e||e.classList.remove("drag-over"),null===(l=a.dataTransfer)||void 0===l?void 0:l.files){let e=Array.from(a.dataTransfer.files);s(s=>[...s,...e])}};return null==e||e.addEventListener("dragover",a),null==e||e.addEventListener("dragleave",l),null==e||e.addEventListener("drop",t),()=>{null==e||e.removeEventListener("dragover",a),null==e||e.removeEventListener("dragleave",l),null==e||e.removeEventListener("drop",t)}},[]),(0,l.jsx)("div",{children:(0,l.jsxs)("div",{className:"tool-container",children:[(0,l.jsxs)("div",{className:"tool-header",children:[(0,l.jsx)("h1",{children:"Convert to PDF"}),(0,l.jsx)("p",{className:"heading-desc",children:"Drag and drop your images below to convert them to PDF format"})]}),(0,l.jsxs)("div",{className:"main-container-div",id:"drop-zone",children:[(0,l.jsxs)("div",{className:"middle-container",children:[(0,l.jsxs)("div",{className:"upload-section",children:[(0,l.jsx)("input",{type:"file",id:"file-input",multiple:!0,onChange:f,hidden:!0}),(0,l.jsxs)("div",{className:"upload-content",onClick:()=>{var e;return null===(e=document.getElementById("file-input"))||void 0===e?void 0:e.click()},children:[(0,l.jsx)("img",{src:"/img/upload.svg",alt:"Upload",className:"upload-icon"}),(0,l.jsx)("h3",{children:"Drag & Drop Images"}),(0,l.jsx)("p",{children:"or click to browse files"}),(0,l.jsx)("p",{className:"support-text",children:"Supports: PNG, WEBP, GIF, JPEG"})]})]}),e.length>0&&(0,l.jsxs)("div",{className:"image-preview-main",children:[(0,l.jsxs)("div",{className:"image-preview-sub",children:[(0,l.jsx)("h3",{children:"Uploaded Images"}),(0,l.jsxs)("div",{className:"file-counter",children:[e.length," files uploaded | ",j(e.reduce((e,s)=>e+s.size,0))]})]}),(0,l.jsx)("div",{className:"image-preview-grid",children:e.map((e,s)=>(0,l.jsxs)("div",{className:"preview-item",children:[(0,l.jsx)("span",{className:"filesize-img",children:j(e.size)}),(0,l.jsx)("img",{src:URL.createObjectURL(e),alt:e.name,className:"preview-image"}),(0,l.jsx)("button",{className:"delete-btn",onClick:()=>E(s),children:(0,l.jsx)("img",{src:"/img/delete.svg",alt:"Delete"})})]},s))})]})]}),(0,l.jsxs)("div",{className:"right-options-container",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"right-options-heading",children:"Progress"}),(0,l.jsxs)("div",{className:"progress-container",children:[(0,l.jsx)("div",{className:"progress-bar",children:(0,l.jsx)("div",{className:"progress",style:{width:"".concat(c,"%")}})}),(0,l.jsxs)("div",{className:"progress-text",id:"progress-text",children:[c,"% Completed"]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"right-options-heading",children:"Actions"}),(0,l.jsxs)("div",{className:"action-bar",children:[h?(0,l.jsx)("button",{className:"btn-4",onClick:N,children:"Download"}):(0,l.jsx)("button",{className:"btn-4",onClick:w,disabled:g||0===e.length,children:g?"Processing...":"Convert to PDF"}),h&&(0,l.jsx)("button",{className:"btn-2",onClick:()=>{s([]),i([]),d(0),p(!1)},style:{marginLeft:"10px"},children:"Reset"})]})]}),(0,l.jsx)("div",{className:"compression-options",children:(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"right-options-heading",children:"Image Merge"}),(0,l.jsx)("div",{className:"checkbox-container",children:(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{type:"checkbox",checked:v,onChange:()=>u(!v)}),"Enable"]})})]})})]})]})]})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[930,158,913,441,684,358],()=>s(3418)),_N_E=e.O()}]);