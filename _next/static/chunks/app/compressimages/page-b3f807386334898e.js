(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[593],{2264:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>c});var i=a(5155),l=a(2115),r=a(9311),t=a.n(r),n=a(1540);let c=function(){let[e,s]=(0,l.useState)([]),[a,r]=(0,l.useState)([]),[c,o]=(0,l.useState)(60),[d,m]=(0,l.useState)(!1),[g,h]=(0,l.useState)(0),[p,u]=(0,l.useState)(!1),[v,x]=(0,l.useState)(!1),j=(0,l.useCallback)(e=>{if(e.target.files){let a=Array.from(e.target.files).filter(e=>["image/png","image/webp","image/gif","image/jpeg"].includes(e.type));s(e=>[...e,...a]),e.target.value=""}},[]),f=e=>e<1024?"".concat(e," B"):e<1048576?"".concat((e/1024).toFixed(2)," KB"):"".concat((e/1048576).toFixed(2)," MB"),b=(0,l.useCallback)((e,s,a)=>new Promise((i,l)=>{let r=new Image,t=URL.createObjectURL(e);r.onload=()=>{let n=document.createElement("canvas");n.width=r.width,n.height=r.height;let c=n.getContext("2d");if(!c){l(Error("Failed to get canvas context."));return}c.drawImage(r,0,0);let o="image/png"===e.type?"image/png":"image/jpeg";n.toBlob(s=>{if(URL.revokeObjectURL(t),!s){console.error("Failed to compress image:",e.name),l(Error("Failed to compress image."));return}i({blob:s,name:e.name,size:s.size})},o,a?1:s/100)},r.onerror=e=>{console.error("Error loading image:",e),URL.revokeObjectURL(t),l(Error("Error loading image."))},r.src=t}),[]),N=(0,l.useCallback)(async()=>{if(!e||0===e.length){alert("No files selected. Please upload images first.");return}u(!0),h(0);let s=e.length,a=0,i=[];for(let l of e){try{let e=await b(l,c,d);i.push(e)}catch(e){console.error("Error processing file ".concat(l.name,":"),e)}h(Math.floor(++a/s*100))}r(i),u(!1),x(i.length>0),i.length>0||alert("No valid images were processed.")},[e,c,d,b]),w=(0,l.useCallback)(async()=>{if(0===a.length){alert("No processed files to download.");return}if(1===a.length){let e=a[0];(0,n.saveAs)(e.blob,"compressed_".concat(e.name))}else{let e=new(t());for(let s of a)e.file("compressed_".concat(s.name),s.blob,{binary:!0});let s=await e.generateAsync({type:"blob"});(0,n.saveAs)(s,"compressed-images.zip")}s([]),r([]),h(0),x(!1)},[a]),E=(0,l.useCallback)(e=>{s(s=>s.filter((s,a)=>a!==e))},[]);return(0,l.useEffect)(()=>{let s=e.map(e=>URL.createObjectURL(e));return()=>{s.forEach(e=>URL.revokeObjectURL(e))}},[e]),(0,l.useEffect)(()=>{let e=document.getElementById("drop-zone"),a=s=>{s.preventDefault(),null==e||e.classList.add("drag-over")},i=()=>{null==e||e.classList.remove("drag-over")},l=a=>{var i;if(a.preventDefault(),null==e||e.classList.remove("drag-over"),null===(i=a.dataTransfer)||void 0===i?void 0:i.files){let e=Array.from(a.dataTransfer.files);s(s=>[...s,...e])}};return null==e||e.addEventListener("dragover",a),null==e||e.addEventListener("dragleave",i),null==e||e.addEventListener("drop",l),()=>{null==e||e.removeEventListener("dragover",a),null==e||e.removeEventListener("dragleave",i),null==e||e.removeEventListener("drop",l)}},[]),(0,i.jsx)("div",{children:(0,i.jsxs)("main",{className:"tool-container",children:[(0,i.jsxs)("div",{className:"tool-header",children:[(0,i.jsx)("h1",{children:"Compress Images"}),(0,i.jsx)("p",{className:"heading-desc",children:"Drag and drop your images below to compress"})]}),(0,i.jsxs)("div",{className:"main-container-div",id:"drop-zone",children:[(0,i.jsxs)("div",{className:"middle-container",children:[(0,i.jsxs)("div",{className:"upload-section",children:[(0,i.jsx)("input",{type:"file",id:"file-input",multiple:!0,onChange:j,accept:".png,.webp,.gif,.jpeg,.jpg",hidden:!0}),(0,i.jsxs)("div",{className:"upload-content",onClick:()=>{var e;return null===(e=document.getElementById("file-input"))||void 0===e?void 0:e.click()},children:[(0,i.jsx)("img",{src:"/img/upload.svg",alt:"Upload",className:"upload-icon",width:50,height:50}),(0,i.jsx)("h3",{children:"Drag & Drop Images"}),(0,i.jsx)("p",{children:"or click to browse files"}),(0,i.jsx)("p",{className:"support-text",children:"Supports: PNG, WebP, GIF, JPEG"})]})]}),e.length>0&&(0,i.jsxs)("div",{className:"image-preview-main",children:[(0,i.jsxs)("div",{className:"image-preview-sub",children:[(0,i.jsx)("h3",{children:"Uploaded Images"}),(0,i.jsxs)("div",{className:"file-counter",children:[e.length," files uploaded | ",f(e.reduce((e,s)=>e+s.size,0))]})]}),(0,i.jsx)("div",{className:"image-preview-grid",children:e.map((e,s)=>(0,i.jsxs)("div",{className:"preview-item",children:[(0,i.jsx)("span",{className:"filesize-img",children:f(e.size)}),(0,i.jsx)("img",{src:URL.createObjectURL(e),alt:e.name,className:"preview-image",width:100,height:100}),(0,i.jsx)("button",{className:"delete-btn",onClick:()=>E(s),children:(0,i.jsx)("img",{src:"/img/delete-btn.svg",alt:"Delete",width:20,height:20})})]},s))})]})]}),(0,i.jsxs)("div",{className:"right-options-container",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"right-options-heading",children:"Progress"}),(0,i.jsxs)("div",{className:"progress-container",children:[(0,i.jsx)("div",{className:"progress-bar",children:(0,i.jsx)("div",{className:"progress",style:{width:"".concat(g,"%")}})}),(0,i.jsxs)("div",{className:"progress-text",id:"progress-text",children:[g,"% Completed"]})]})]}),(0,i.jsx)("div",{children:(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"right-options-heading",children:"Actions"}),(0,i.jsx)("div",{className:"action-bar",children:v?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("button",{className:"btn-4",onClick:w,children:"Download"}),(0,i.jsx)("button",{className:"btn-2",onClick:()=>{s([]),r([]),h(0),x(!1)},style:{marginLeft:"10px"},children:"Reset"})]}):(0,i.jsx)("button",{className:"btn-4",onClick:N,disabled:p||0===e.length,children:p?"Compressing...":"Compress Images"})})]})}),(0,i.jsx)("div",{className:"compression-options",children:(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"right-options-heading",children:"Lossless Compression"}),(0,i.jsx)("div",{className:"checkbox-container",children:(0,i.jsxs)("label",{children:[(0,i.jsx)("input",{type:"checkbox",checked:d,onChange:()=>m(!d)}),"Enable"]})})]})}),!d&&(0,i.jsx)("div",{children:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h3",{className:"right-options-heading",children:"Quality"}),(0,i.jsxs)("div",{className:"quality-slider",children:[(0,i.jsx)("input",{type:"range",id:"quality-range",min:"10",max:"100",value:c,onChange:e=>o(Number(e.target.value)),disabled:d}),(0,i.jsxs)("div",{className:"quality-range-text",children:[c,"%"]})]})]})})]})]})]})})}},3511:(e,s,a)=>{Promise.resolve().then(a.bind(a,2264))}},e=>{var s=s=>e(e.s=s);e.O(0,[158,441,684,358],()=>s(3511)),_N_E=e.O()}]);